const textoValor=document.querySelector("#textoValor"),textoEntrada=document.querySelector("#textoEntrada"),textoTaxaJuros=document.querySelector("#textoTaxaJuros"),textoPrazo=document.querySelector("#textoPrazo"),comCarencia=document.querySelector("#comCarencia"),listaSuspensa=document.querySelector("#listaSuspensa"),botaoCalcular=document.querySelector("#botaoCalcular"),botaoResetar=document.querySelector("#botaoResetar"),avisoValor=document.querySelector("#avisoValor"),avisoEntrada=document.querySelector("#avisoEntrada"),avisoTaxaJuros=document.querySelector("#avisoTaxaJuros"),avisoPrazo=document.querySelector("#avisoPrazo"),containerDica=document.querySelector("#containerDica"),dica=document.querySelector("#dica"),ilustracaoImg=document.querySelector("#ilustracaoImg"),tabela=document.querySelector("table"),containerImagem=document.querySelector("#containerImagem"),corpoTabela=document.querySelector("#corpoTabela");function limparTabela(){for(;corpoTabela.firstChild;)corpoTabela.removeChild(corpoTabela.firstChild)}botaoCalcular.addEventListener("click",a=>{if(a.preventDefault(),""===textoValor.value?(avisoValor.textContent="Este campo é obrigatório.",avisoValor.classList.add("aviso"),textoValor.focus(),setTimeout(()=>{avisoValor.textContent="",avisoValor.classList.remove("aviso")},3e3)):textoEntrada.focus(),""===textoEntrada.value?(avisoEntrada.textContent="Este campo é obrigatório.",avisoEntrada.classList.add("aviso"),setTimeout(()=>{avisoEntrada.textContent="",avisoEntrada.classList.remove("aviso")},3e3)):textoTaxaJuros.focus(),""===textoTaxaJuros.value?(avisoTaxaJuros.textContent="Este campo é obrigatório.",avisoTaxaJuros.classList.add("aviso"),setTimeout(()=>{avisoTaxaJuros.textContent="",avisoTaxaJuros.classList.remove("aviso")},3e3)):textoPrazo.focus(),""===textoPrazo.value?(avisoPrazo.textContent="Este campo é obrigatório.",avisoPrazo.classList.add("aviso"),setTimeout(()=>{avisoPrazo.textContent="",avisoPrazo.classList.remove("aviso")},3e3)):botaoCalcular.focus(),""===textoValor.value||""===textoEntrada.value||""===textoTaxaJuros.value||""===textoPrazo.value)return a;ilustracaoImg.style.display="none",containerImagem.style.width="100%",containerImagem.style.height="31.375rem",containerImagem.style.overflow="scroll",tabela.style.display="table",containerDica.style.display="none",limparTabela();var e,a=parseFloat(textoValor.value),t=parseFloat(textoEntrada.value),o=parseFloat(textoTaxaJuros.value),r=parseFloat(textoPrazo.value);let s;(s=comCarencia.checked?(e=parseInt(listaSuspensa.value),new Carencia(a,t,o,r,e)):new Financiamento(a,t,o,r)).calcParcelasMensais(),s.exibeParcelas()}),botaoResetar.addEventListener("click",()=>{listaSuspensa.style.display="none",tabela.style.display="none",containerImagem.style.width="30rem",containerImagem.style.height="auto",ilustracaoImg.style.display="flex",containerImagem.style.borderRadius="0 1.875rem 1.875rem 0rem",containerImagem.style.overflowX="hidden",containerDica.style.display="flex"}),comCarencia.addEventListener("change",()=>{"flex"===listaSuspensa.style.display?listaSuspensa.style.display="none":listaSuspensa.style.display="flex"});for(let a=0;a<100;a++)setInterval(()=>{dica.textContent="Para ter exito no calculo do resultado utilize valores decimais sem qualquer tipo de caractere."},7e3),setInterval(()=>{dica.textContent="Caso estiver pelo celular ative o modo para computador para melhor leitura da tabela de valores."},14e3);class Financiamento{#taxaJuros;#prazo;#parcelas=[];constructor(a,e,t,o){this.#taxaJuros=t,this.#prazo=o,this.#parcelas.push(new Parcela(0,0,0,0,a-e))}static calcJuros(a,e){return a*(e/100)}calcParcelasMensais(){let e=this.#parcelas[this.#parcelas.length-1].getSaldo();var t=this.#prazo-(this.#parcelas.length-1),o=e/t;for(let a=0;a<t;a++){var r=this.#parcelas.length,s=Financiamento.calcJuros(e,this.#taxaJuros),l=s+o;(e-=o)<0&&(e=0),this.#parcelas.push(new Parcela(r,l,s,o,e))}}exibeParcelas(){var a;for(a of this.#parcelas.slice(1)){let e=corpoTabela.insertRow(-1);for(var t of a.getDadosFormatados()){let a=e.insertCell(-1);a.textContent=t}}}getParcelas(){return this.#parcelas}}class Parcela{#numero;#valor;#juros;#amortizacao;#saldo;constructor(a,e,t,o,r){this.#numero=a,this.#valor=e,this.#juros=t,this.#amortizacao=o,this.#saldo=r}getSaldo(){return this.#saldo}getDadosFormatados(){let a=[];return a.push(this.#numero),a.push(this.#valor.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),a.push(this.#amortizacao.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),a.push(this.#juros.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),a.push(this.#saldo.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),a}};class Carencia extends Financiamento{#carencia;#taxaJuros;#parcelas=[];constructor(a,e,t,o,r){super(a,e,t,o),this.#carencia=r,this.#taxaJuros=t,this.#parcelas=super.getParcelas()}calcParcelasMensais(){let e=this.#parcelas[0].getSaldo();for(let a=0;a<this.#carencia;a++){var t=this.#parcelas.length;e+=Financiamento.calcJuros(e,this.#taxaJuros),this.#parcelas.push(new Parcela(t,0,0,0,e))}super.calcParcelasMensais()}};